/*
 * jQuery Tipsy
 */
/*global $, jQuery, document, setTimeout, window */
(function(){"use strict";$.fn.tipsy=function(d){d=$.extend({},$.fn.tipsy.defaults,d);return this.each(function(){var b=$.fn.tipsy.elementOptions(this,d);$(this).hover(function(){var a="",f="",c="",d="",e="",g="";$.data(this,"cancel.tipsy",!0);a=$.data(this,"active.tipsy");a||(a=$('<div class="tipsy"><div class="tipsy-inner"/></div>'),a.css({position:"absolute",zIndex:1E5}),$.data(this,"active.tipsy",a));if($(this).attr("title")||"string"!==typeof $(this).attr("original-title"))$(this).attr("original-title",$(this).attr("title")||
"").removeAttr("title");"string"===typeof b.title?f=$(this).attr("title"===b.title?"original-title":b.title):"function"===typeof b.title&&(f=b.title.call(this));a.find(".tipsy-inner")[b.html?"html":"text"](f||b.fallback);c=$.extend({},$(this).offset(),{width:this.offsetWidth,height:this.offsetHeight});a.get(0).className="tipsy";a.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);d=a[0].offsetWidth;e=a[0].offsetHeight;g="function"===typeof b.gravity?b.gravity.call(this):
b.gravity;switch(g.charAt(0)){case "n":a.css({top:c.top+c.height,left:c.left+c.width/2-d/2}).addClass("tipsy-north");break;case "s":a.css({top:c.top-e,left:c.left+c.width/2-d/2}).addClass("tipsy-south");break;case "e":a.css({top:c.top+c.height/2-e/2,left:c.left-d}).addClass("tipsy-east");break;case "w":a.css({top:c.top+c.height/2-e/2,left:c.left+c.width}).addClass("tipsy-west")}b.fade?a.css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:0.8}):a.css({visibility:"visible"})},function(){$.data(this,
"cancel.tipsy",!1);var a=this;setTimeout(function(){if(!$.data(this,"cancel.tipsy")){var d=$.data(a,"active.tipsy");b.fade?d.stop().fadeOut(function(){$(this).remove()}):d.remove()}},100)})})};$.fn.tipsy.elementOptions=function(d,b){return $.metadata?$.extend({},b,$(d).metadata()):b};$.fn.tipsy.defaults={fade:!1,fallback:"",gravity:"n",html:!1,title:"title"};$.fn.tipsy.autoNS=function(){return $(this).offset().top>$(document).scrollTop()+$(window).height()/2?"s":"n"};$.fn.tipsy.autoWE=function(){return $(this).offset().left>
$(document).scrollLeft()+$(window).width()/2?"e":"w"}})(jQuery);