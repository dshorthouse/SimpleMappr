(function(){$.fn.tipsy=function(a){a=$.extend({},$.fn.tipsy.defaults,a);return this.each(function(){var b=$.fn.tipsy.elementOptions(this,a);$(this).hover(function(){var c="",e="",h="",d="",g="",f="";$.data(this,"cancel.tipsy",true);c=$.data(this,"active.tipsy");if(!c){c=$('<div class="tipsy"><div class="tipsy-inner"/></div>');c.css({position:"absolute",zIndex:100000});$.data(this,"active.tipsy",c);}if($(this).attr("title")||typeof($(this).attr("original-title"))!=="string"){$(this).attr("original-title",$(this).attr("title")||"").removeAttr("title");}if(typeof b.title==="string"){e=$(this).attr(b.title==="title"?"original-title":b.title);}else{if(typeof b.title==="function"){e=b.title.call(this);}}c.find(".tipsy-inner")[b.html?"html":"text"](e||b.fallback);h=$.extend({},$(this).offset(),{width:this.offsetWidth,height:this.offsetHeight});c.get(0).className="tipsy";c.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);d=c[0].offsetWidth;g=c[0].offsetHeight;f=(typeof b.gravity==="function")?b.gravity.call(this):b.gravity;switch(f.charAt(0)){case"n":c.css({top:h.top+h.height,left:h.left+h.width/2-d/2}).addClass("tipsy-north");break;case"s":c.css({top:h.top-g,left:h.left+h.width/2-d/2}).addClass("tipsy-south");break;case"e":c.css({top:h.top+h.height/2-g/2,left:h.left-d}).addClass("tipsy-east");break;case"w":c.css({top:h.top+h.height/2-g/2,left:h.left+h.width}).addClass("tipsy-west");break;}if(b.fade){c.css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:0.8});}else{c.css({visibility:"visible"});}},function(){$.data(this,"cancel.tipsy",false);var c=this;setTimeout(function(){if($.data(this,"cancel.tipsy")){return;}var d=$.data(c,"active.tipsy");if(b.fade){d.stop().fadeOut(function(){$(this).remove();});}else{d.remove();}},100);});});};$.fn.tipsy.elementOptions=function(b,a){return $.metadata?$.extend({},a,$(b).metadata()):a;};$.fn.tipsy.defaults={fade:false,fallback:"",gravity:"n",html:false,title:"title"};$.fn.tipsy.autoNS=function(){return $(this).offset().top>($(document).scrollTop()+$(window).height()/2)?"s":"n";};$.fn.tipsy.autoWE=function(){return $(this).offset().left>($(document).scrollLeft()+$(window).width()/2)?"e":"w";};}(jQuery));